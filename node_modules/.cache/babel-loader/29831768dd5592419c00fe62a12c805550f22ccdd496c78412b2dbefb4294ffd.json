{"ast":null,"code":"var _jsxFileName = \"/Users/wutao/Documents/AMS_Web/src/pages/DeviceHistory.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { Container, Typography, Button, Paper, ToggleButtonGroup, ToggleButton, FormControl, InputLabel, Select, MenuItem, Grid, Box, IconButton } from '@mui/material';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport RefreshIcon from '@mui/icons-material/Refresh';\nimport BrightnessHighIcon from '@mui/icons-material/BrightnessHigh';\nimport WifiIcon from '@mui/icons-material/Wifi';\nimport BluetoothIcon from '@mui/icons-material/Bluetooth';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, AreaChart, Area } from 'recharts';\nimport { getDeviceHistory } from '../services/api';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport ErrorMessage from '../components/ErrorMessage';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction DeviceHistory() {\n  _s();\n  var _historyData$data;\n  const {\n    deviceId\n  } = useParams();\n  const [historyData, setHistoryData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [dataType, setDataType] = useState('BRIGHTNESS');\n  const [timeRange, setTimeRange] = useState('24h');\n  const fetchHistoryData = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // 计算时间范围\n      const to = new Date().toISOString();\n      let from;\n      switch (timeRange) {\n        case '1h':\n          from = new Date(Date.now() - 3600000).toISOString();\n          break;\n        case '6h':\n          from = new Date(Date.now() - 21600000).toISOString();\n          break;\n        case '24h':\n          from = new Date(Date.now() - 86400000).toISOString();\n          break;\n        case '7d':\n          from = new Date(Date.now() - 604800000).toISOString();\n          break;\n        default:\n          from = new Date(Date.now() - 86400000).toISOString();\n      }\n      const data = await getDeviceHistory(deviceId, dataType, from, to);\n      setHistoryData(data);\n      setLoading(false);\n    } catch (err) {\n      setError('无法加载历史数据');\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchHistoryData();\n  }, [deviceId, dataType, timeRange]);\n  const handleDataTypeChange = (event, newType) => {\n    if (newType !== null) {\n      setDataType(newType);\n    }\n  };\n  const handleTimeRangeChange = event => {\n    setTimeRange(event.target.value);\n  };\n  const formatChartData = data => {\n    if (!data || !data.data) return [];\n    return data.data.map(point => {\n      const date = new Date(point.timestamp);\n      const time = timeRange === '7d' ? date.toLocaleDateString('zh-CN') + ' ' + date.toLocaleTimeString('zh-CN', {\n        hour: '2-digit',\n        minute: '2-digit'\n      }) : date.toLocaleTimeString('zh-CN', {\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n      if (dataType === 'BRIGHTNESS') {\n        return {\n          time,\n          value: Math.round(point.value),\n          timestamp: point.timestamp,\n          fullTime: date.toLocaleString('zh-CN')\n        };\n      } else if (dataType === 'WIFI') {\n        return {\n          time,\n          status: point.status === 'ON' ? 1 : 0,\n          statusText: point.status,\n          ssid: point.ssid,\n          timestamp: point.timestamp,\n          fullTime: date.toLocaleString('zh-CN')\n        };\n      } else if (dataType === 'BLUETOOTH') {\n        return {\n          time,\n          status: point.status === 'ON' ? 1 : 0,\n          statusText: point.status,\n          pairedDevices: point.pairedDevices,\n          timestamp: point.timestamp,\n          fullTime: date.toLocaleString('zh-CN')\n        };\n      }\n      return {\n        time\n      };\n    });\n  };\n  const CustomTooltip = ({\n    active,\n    payload,\n    label\n  }) => {\n    if (active && payload && payload.length) {\n      const data = payload[0].payload;\n      return /*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          p: 2,\n          maxWidth: 300\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle2\",\n          gutterBottom: true,\n          children: data.fullTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), dataType === 'BRIGHTNESS' && /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          children: [\"\\u4EAE\\u5EA6: \", payload[0].value, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this), dataType === 'WIFI' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: [\"WiFi\\u72B6\\u6001: \", data.statusText === 'ON' ? '开启' : '关闭']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: [\"\\u7F51\\u7EDC: \", data.ssid || '未连接']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), dataType === 'BLUETOOTH' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: [\"\\u84DD\\u7259\\u72B6\\u6001: \", data.statusText === 'ON' ? '开启' : '关闭']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: [\"\\u5DF2\\u914D\\u5BF9\\u8BBE\\u5907: \", data.pairedDevices, \"\\u53F0\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this);\n    }\n    return null;\n  };\n  const renderChart = () => {\n    const chartData = formatChartData(historyData);\n    if (chartData.length === 0) {\n      return /*#__PURE__*/_jsxDEV(Box, {\n        textAlign: \"center\",\n        py: 8,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          color: \"text.secondary\",\n          gutterBottom: true,\n          children: \"\\u6682\\u65E0\\u5386\\u53F2\\u6570\\u636E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          children: \"\\u9009\\u62E9\\u7684\\u65F6\\u95F4\\u8303\\u56F4\\u5185\\u6CA1\\u6709\\u627E\\u5230\\u6570\\u636E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this);\n    }\n    if (dataType === 'BRIGHTNESS') {\n      return /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n        width: \"100%\",\n        height: 400,\n        children: /*#__PURE__*/_jsxDEV(AreaChart, {\n          data: chartData,\n          children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n            children: /*#__PURE__*/_jsxDEV(\"linearGradient\", {\n              id: \"brightnessGradient\",\n              x1: \"0\",\n              y1: \"0\",\n              x2: \"0\",\n              y2: \"1\",\n              children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n                offset: \"5%\",\n                stopColor: \"#3f51b5\",\n                stopOpacity: 0.8\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n                offset: \"95%\",\n                stopColor: \"#3f51b5\",\n                stopOpacity: 0.1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CartesianGrid, {\n            strokeDasharray: \"3 3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n            dataKey: \"time\",\n            tick: {\n              fontSize: 12\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n            label: {\n              value: '亮度 (%)',\n              angle: -90,\n              position: 'insideLeft'\n            },\n            domain: [0, 100],\n            tick: {\n              fontSize: 12\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            content: /*#__PURE__*/_jsxDEV(CustomTooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 31\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Area, {\n            type: \"monotone\",\n            dataKey: \"value\",\n            name: \"\\u5C4F\\u5E55\\u4EAE\\u5EA6\",\n            stroke: \"#3f51b5\",\n            fill: \"url(#brightnessGradient)\",\n            strokeWidth: 2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this);\n    } else if (dataType === 'WIFI') {\n      return /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n        width: \"100%\",\n        height: 400,\n        children: /*#__PURE__*/_jsxDEV(LineChart, {\n          data: chartData,\n          children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n            strokeDasharray: \"3 3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n            dataKey: \"time\",\n            tick: {\n              fontSize: 12\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n            label: {\n              value: 'WiFi状态',\n              angle: -90,\n              position: 'insideLeft'\n            },\n            domain: [0, 1],\n            ticks: [0, 1],\n            tickFormatter: value => value === 1 ? '开启' : '关闭',\n            tick: {\n              fontSize: 12\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            content: /*#__PURE__*/_jsxDEV(CustomTooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 31\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Line, {\n            type: \"stepAfter\",\n            dataKey: \"status\",\n            name: \"WiFi\\u72B6\\u6001\",\n            stroke: \"#4caf50\",\n            strokeWidth: 3,\n            dot: {\n              r: 4\n            },\n            activeDot: {\n              r: 6\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this);\n    } else if (dataType === 'BLUETOOTH') {\n      return /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n        width: \"100%\",\n        height: 400,\n        children: /*#__PURE__*/_jsxDEV(LineChart, {\n          data: chartData,\n          children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n            strokeDasharray: \"3 3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n            dataKey: \"time\",\n            tick: {\n              fontSize: 12\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n            yAxisId: \"status\",\n            label: {\n              value: '蓝牙状态',\n              angle: -90,\n              position: 'insideLeft'\n            },\n            domain: [0, 1],\n            ticks: [0, 1],\n            tickFormatter: value => value === 1 ? '开启' : '关闭',\n            tick: {\n              fontSize: 12\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n            yAxisId: \"devices\",\n            orientation: \"right\",\n            label: {\n              value: '已配对设备',\n              angle: 90,\n              position: 'insideRight'\n            },\n            allowDecimals: false,\n            tick: {\n              fontSize: 12\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            content: /*#__PURE__*/_jsxDEV(CustomTooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 31\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Line, {\n            yAxisId: \"status\",\n            type: \"stepAfter\",\n            dataKey: \"status\",\n            name: \"\\u84DD\\u7259\\u72B6\\u6001\",\n            stroke: \"#2196f3\",\n            strokeWidth: 3,\n            dot: {\n              r: 4\n            },\n            activeDot: {\n              r: 6\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Line, {\n            yAxisId: \"devices\",\n            type: \"monotone\",\n            dataKey: \"pairedDevices\",\n            name: \"\\u5DF2\\u914D\\u5BF9\\u8BBE\\u5907\",\n            stroke: \"#ff9800\",\n            strokeWidth: 2,\n            dot: {\n              r: 3\n            },\n            activeDot: {\n              r: 5\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this);\n    }\n    return null;\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      sx: {\n        mt: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n        message: \"\\u6B63\\u5728\\u52A0\\u8F7D\\u5386\\u53F2\\u6570\\u636E...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    sx: {\n      mt: 4,\n      pb: 4\n    },\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            component: Link,\n            to: `/device/${deviceId}`,\n            startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 26\n            }, this),\n            variant: \"outlined\",\n            children: \"\\u8FD4\\u56DE\\u8BBE\\u5907\\u8BE6\\u60C5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: fetchHistoryData,\n            color: \"primary\",\n            disabled: loading,\n            children: /*#__PURE__*/_jsxDEV(RefreshIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          gutterBottom: true,\n          children: [\"\\u8BBE\\u5907\\u5386\\u53F2\\u6570\\u636E: \", deviceId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          error: error,\n          onRetry: fetchHistoryData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 3\n          },\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 3,\n            alignItems: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                gutterBottom: true,\n                children: \"\\u6570\\u636E\\u7C7B\\u578B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ToggleButtonGroup, {\n                value: dataType,\n                exclusive: true,\n                onChange: handleDataTypeChange,\n                \"aria-label\": \"data type\",\n                size: \"small\",\n                children: [/*#__PURE__*/_jsxDEV(ToggleButton, {\n                  value: \"BRIGHTNESS\",\n                  \"aria-label\": \"brightness\",\n                  children: [/*#__PURE__*/_jsxDEV(BrightnessHighIcon, {\n                    sx: {\n                      mr: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 21\n                  }, this), \"\\u5C4F\\u5E55\\u4EAE\\u5EA6\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(ToggleButton, {\n                  value: \"WIFI\",\n                  \"aria-label\": \"wifi\",\n                  children: [/*#__PURE__*/_jsxDEV(WifiIcon, {\n                    sx: {\n                      mr: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 21\n                  }, this), \"WiFi\\u72B6\\u6001\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(ToggleButton, {\n                  value: \"BLUETOOTH\",\n                  \"aria-label\": \"bluetooth\",\n                  children: [/*#__PURE__*/_jsxDEV(BluetoothIcon, {\n                    sx: {\n                      mr: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 382,\n                    columnNumber: 21\n                  }, this), \"\\u84DD\\u7259\\u72B6\\u6001\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                size: \"small\",\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  id: \"time-range-label\",\n                  children: \"\\u65F6\\u95F4\\u8303\\u56F4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  labelId: \"time-range-label\",\n                  id: \"time-range\",\n                  value: timeRange,\n                  label: \"\\u65F6\\u95F4\\u8303\\u56F4\",\n                  onChange: handleTimeRangeChange,\n                  children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"1h\",\n                    children: \"\\u8FC7\\u53BB1\\u5C0F\\u65F6\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 398,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"6h\",\n                    children: \"\\u8FC7\\u53BB6\\u5C0F\\u65F6\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"24h\",\n                    children: \"\\u8FC7\\u53BB24\\u5C0F\\u65F6\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"7d\",\n                    children: \"\\u8FC7\\u53BB7\\u5929\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 401,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                color: \"text.secondary\",\n                children: [\"\\u6570\\u636E\\u70B9\\u6570\\u91CF: \", (historyData === null || historyData === void 0 ? void 0 : (_historyData$data = historyData.data) === null || _historyData$data === void 0 ? void 0 : _historyData$data.length) || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 3,\n            minHeight: 450\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: [dataType === 'BRIGHTNESS' && '屏幕亮度趋势', dataType === 'WIFI' && 'WiFi状态变化', dataType === 'BLUETOOTH' && '蓝牙状态变化']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this), renderChart()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 322,\n    columnNumber: 5\n  }, this);\n}\n_s(DeviceHistory, \"LXyNnm5cQgak3kwIq03Jx+CNzdw=\", false, function () {\n  return [useParams];\n});\n_c = DeviceHistory;\nexport default DeviceHistory;\nvar _c;\n$RefreshReg$(_c, \"DeviceHistory\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","Container","Typography","Button","Paper","ToggleButtonGroup","ToggleButton","FormControl","InputLabel","Select","MenuItem","Grid","Box","IconButton","ArrowBackIcon","RefreshIcon","BrightnessHighIcon","WifiIcon","BluetoothIcon","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","AreaChart","Area","getDeviceHistory","LoadingSpinner","ErrorMessage","jsxDEV","_jsxDEV","Fragment","_Fragment","DeviceHistory","_s","_historyData$data","deviceId","historyData","setHistoryData","loading","setLoading","error","setError","dataType","setDataType","timeRange","setTimeRange","fetchHistoryData","to","Date","toISOString","from","now","data","err","handleDataTypeChange","event","newType","handleTimeRangeChange","target","value","formatChartData","map","point","date","timestamp","time","toLocaleDateString","toLocaleTimeString","hour","minute","Math","round","fullTime","toLocaleString","status","statusText","ssid","pairedDevices","CustomTooltip","active","payload","label","length","sx","p","maxWidth","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","renderChart","chartData","textAlign","py","color","width","height","id","x1","y1","x2","y2","offset","stopColor","stopOpacity","strokeDasharray","dataKey","tick","fontSize","angle","position","domain","content","type","name","stroke","fill","strokeWidth","ticks","tickFormatter","dot","r","activeDot","yAxisId","orientation","allowDecimals","mt","message","pb","container","spacing","item","xs","display","justifyContent","alignItems","component","startIcon","onClick","disabled","onRetry","md","exclusive","onChange","size","mr","fullWidth","labelId","minHeight","_c","$RefreshReg$"],"sources":["/Users/wutao/Documents/AMS_Web/src/pages/DeviceHistory.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { \n  Container, \n  Typography, \n  Button, \n  Paper, \n  ToggleButtonGroup, \n  ToggleButton, \n  FormControl, \n  InputLabel, \n  Select, \n  MenuItem, \n  Grid,\n  Box,\n  IconButton\n} from '@mui/material';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport RefreshIcon from '@mui/icons-material/Refresh';\nimport BrightnessHighIcon from '@mui/icons-material/BrightnessHigh';\nimport WifiIcon from '@mui/icons-material/Wifi';\nimport BluetoothIcon from '@mui/icons-material/Bluetooth';\nimport {\n  LineChart, \n  Line, \n  XAxis, \n  YAxis, \n  CartesianGrid, \n  Tooltip, \n  Legend, \n  ResponsiveContainer,\n  AreaChart,\n  Area\n} from 'recharts';\nimport { getDeviceHistory } from '../services/api';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport ErrorMessage from '../components/ErrorMessage';\n\nfunction DeviceHistory() {\n  const { deviceId } = useParams();\n  const [historyData, setHistoryData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [dataType, setDataType] = useState('BRIGHTNESS');\n  const [timeRange, setTimeRange] = useState('24h');\n\n  const fetchHistoryData = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      // 计算时间范围\n      const to = new Date().toISOString();\n      let from;\n      \n      switch (timeRange) {\n        case '1h':\n          from = new Date(Date.now() - 3600000).toISOString();\n          break;\n        case '6h':\n          from = new Date(Date.now() - 21600000).toISOString();\n          break;\n        case '24h':\n          from = new Date(Date.now() - 86400000).toISOString();\n          break;\n        case '7d':\n          from = new Date(Date.now() - 604800000).toISOString();\n          break;\n        default:\n          from = new Date(Date.now() - 86400000).toISOString();\n      }\n      \n      const data = await getDeviceHistory(deviceId, dataType, from, to);\n      setHistoryData(data);\n      setLoading(false);\n    } catch (err) {\n      setError('无法加载历史数据');\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchHistoryData();\n  }, [deviceId, dataType, timeRange]);\n\n  const handleDataTypeChange = (event, newType) => {\n    if (newType !== null) {\n      setDataType(newType);\n    }\n  };\n\n  const handleTimeRangeChange = (event) => {\n    setTimeRange(event.target.value);\n  };\n\n  const formatChartData = (data) => {\n    if (!data || !data.data) return [];\n    \n    return data.data.map(point => {\n      const date = new Date(point.timestamp);\n      const time = timeRange === '7d' ? \n        date.toLocaleDateString('zh-CN') + ' ' + date.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' }) :\n        date.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' });\n      \n      if (dataType === 'BRIGHTNESS') {\n        return {\n          time,\n          value: Math.round(point.value),\n          timestamp: point.timestamp,\n          fullTime: date.toLocaleString('zh-CN')\n        };\n      } else if (dataType === 'WIFI') {\n        return {\n          time,\n          status: point.status === 'ON' ? 1 : 0,\n          statusText: point.status,\n          ssid: point.ssid,\n          timestamp: point.timestamp,\n          fullTime: date.toLocaleString('zh-CN')\n        };\n      } else if (dataType === 'BLUETOOTH') {\n        return {\n          time,\n          status: point.status === 'ON' ? 1 : 0,\n          statusText: point.status,\n          pairedDevices: point.pairedDevices,\n          timestamp: point.timestamp,\n          fullTime: date.toLocaleString('zh-CN')\n        };\n      }\n      \n      return { time };\n    });\n  };\n\n  const CustomTooltip = ({ active, payload, label }) => {\n    if (active && payload && payload.length) {\n      const data = payload[0].payload;\n      \n      return (\n        <Paper sx={{ p: 2, maxWidth: 300 }}>\n          <Typography variant=\"subtitle2\" gutterBottom>\n            {data.fullTime}\n          </Typography>\n          \n          {dataType === 'BRIGHTNESS' && (\n            <Typography variant=\"body2\">\n              亮度: {payload[0].value}%\n            </Typography>\n          )}\n          \n          {dataType === 'WIFI' && (\n            <>\n              <Typography variant=\"body2\">\n                WiFi状态: {data.statusText === 'ON' ? '开启' : '关闭'}\n              </Typography>\n              <Typography variant=\"body2\">\n                网络: {data.ssid || '未连接'}\n              </Typography>\n            </>\n          )}\n          \n          {dataType === 'BLUETOOTH' && (\n            <>\n              <Typography variant=\"body2\">\n                蓝牙状态: {data.statusText === 'ON' ? '开启' : '关闭'}\n              </Typography>\n              <Typography variant=\"body2\">\n                已配对设备: {data.pairedDevices}台\n              </Typography>\n            </>\n          )}\n        </Paper>\n      );\n    }\n    \n    return null;\n  };\n\n  const renderChart = () => {\n    const chartData = formatChartData(historyData);\n    \n    if (chartData.length === 0) {\n      return (\n        <Box textAlign=\"center\" py={8}>\n          <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\n            暂无历史数据\n          </Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            选择的时间范围内没有找到数据\n          </Typography>\n        </Box>\n      );\n    }\n    \n    if (dataType === 'BRIGHTNESS') {\n      return (\n        <ResponsiveContainer width=\"100%\" height={400}>\n          <AreaChart data={chartData}>\n            <defs>\n              <linearGradient id=\"brightnessGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                <stop offset=\"5%\" stopColor=\"#3f51b5\" stopOpacity={0.8}/>\n                <stop offset=\"95%\" stopColor=\"#3f51b5\" stopOpacity={0.1}/>\n              </linearGradient>\n            </defs>\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis \n              dataKey=\"time\" \n              tick={{ fontSize: 12 }}\n            />\n            <YAxis \n              label={{ value: '亮度 (%)', angle: -90, position: 'insideLeft' }}\n              domain={[0, 100]}\n              tick={{ fontSize: 12 }}\n            />\n            <Tooltip content={<CustomTooltip />} />\n            <Legend />\n            <Area \n              type=\"monotone\" \n              dataKey=\"value\" \n              name=\"屏幕亮度\" \n              stroke=\"#3f51b5\"\n              fill=\"url(#brightnessGradient)\"\n              strokeWidth={2}\n            />\n          </AreaChart>\n        </ResponsiveContainer>\n      );\n    } else if (dataType === 'WIFI') {\n      return (\n        <ResponsiveContainer width=\"100%\" height={400}>\n          <LineChart data={chartData}>\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis \n              dataKey=\"time\" \n              tick={{ fontSize: 12 }}\n            />\n            <YAxis \n              label={{ value: 'WiFi状态', angle: -90, position: 'insideLeft' }}\n              domain={[0, 1]}\n              ticks={[0, 1]}\n              tickFormatter={(value) => value === 1 ? '开启' : '关闭'}\n              tick={{ fontSize: 12 }}\n            />\n            <Tooltip content={<CustomTooltip />} />\n            <Legend />\n            <Line \n              type=\"stepAfter\" \n              dataKey=\"status\" \n              name=\"WiFi状态\"\n              stroke=\"#4caf50\"\n              strokeWidth={3}\n              dot={{ r: 4 }}\n              activeDot={{ r: 6 }}\n            />\n          </LineChart>\n        </ResponsiveContainer>\n      );\n    } else if (dataType === 'BLUETOOTH') {\n      return (\n        <ResponsiveContainer width=\"100%\" height={400}>\n          <LineChart data={chartData}>\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis \n              dataKey=\"time\" \n              tick={{ fontSize: 12 }}\n            />\n            <YAxis \n              yAxisId=\"status\"\n              label={{ value: '蓝牙状态', angle: -90, position: 'insideLeft' }}\n              domain={[0, 1]}\n              ticks={[0, 1]}\n              tickFormatter={(value) => value === 1 ? '开启' : '关闭'}\n              tick={{ fontSize: 12 }}\n            />\n            <YAxis \n              yAxisId=\"devices\"\n              orientation=\"right\"\n              label={{ value: '已配对设备', angle: 90, position: 'insideRight' }}\n              allowDecimals={false}\n              tick={{ fontSize: 12 }}\n            />\n            <Tooltip content={<CustomTooltip />} />\n            <Legend />\n            <Line \n              yAxisId=\"status\"\n              type=\"stepAfter\" \n              dataKey=\"status\" \n              name=\"蓝牙状态\" \n              stroke=\"#2196f3\"\n              strokeWidth={3}\n              dot={{ r: 4 }}\n              activeDot={{ r: 6 }}\n            />\n            <Line \n              yAxisId=\"devices\"\n              type=\"monotone\" \n              dataKey=\"pairedDevices\" \n              name=\"已配对设备\" \n              stroke=\"#ff9800\"\n              strokeWidth={2}\n              dot={{ r: 3 }}\n              activeDot={{ r: 5 }}\n            />\n          </LineChart>\n        </ResponsiveContainer>\n      );\n    }\n    \n    return null;\n  };\n\n  if (loading) {\n    return (\n      <Container sx={{ mt: 4 }}>\n        <LoadingSpinner message=\"正在加载历史数据...\" />\n      </Container>\n    );\n  }\n\n  return (\n    <Container sx={{ mt: 4, pb: 4 }}>\n      <Grid container spacing={3}>\n        {/* 头部导航 */}\n        <Grid item xs={12}>\n          <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n            <Button \n              component={Link} \n              to={`/device/${deviceId}`} \n              startIcon={<ArrowBackIcon />}\n              variant=\"outlined\"\n            >\n              返回设备详情\n            </Button>\n            \n            <IconButton \n              onClick={fetchHistoryData}\n              color=\"primary\"\n              disabled={loading}\n            >\n              <RefreshIcon />\n            </IconButton>\n          </Box>\n        </Grid>\n        \n        <Grid item xs={12}>\n          <Typography variant=\"h4\" gutterBottom>\n            设备历史数据: {deviceId}\n          </Typography>\n        </Grid>\n\n        {error && (\n          <Grid item xs={12}>\n            <ErrorMessage error={error} onRetry={fetchHistoryData} />\n          </Grid>\n        )}\n\n        {/* 控制面板 */}\n        <Grid item xs={12}>\n          <Paper sx={{ p: 3 }}>\n            <Grid container spacing={3} alignItems=\"center\">\n              <Grid item xs={12} md={6}>\n                <Typography variant=\"subtitle1\" gutterBottom>\n                  数据类型\n                </Typography>\n                <ToggleButtonGroup\n                  value={dataType}\n                  exclusive\n                  onChange={handleDataTypeChange}\n                  aria-label=\"data type\"\n                  size=\"small\"\n                >\n                  <ToggleButton value=\"BRIGHTNESS\" aria-label=\"brightness\">\n                    <BrightnessHighIcon sx={{ mr: 1 }} />\n                    屏幕亮度\n                  </ToggleButton>\n                  <ToggleButton value=\"WIFI\" aria-label=\"wifi\">\n                    <WifiIcon sx={{ mr: 1 }} />\n                    WiFi状态\n                  </ToggleButton>\n                  <ToggleButton value=\"BLUETOOTH\" aria-label=\"bluetooth\">\n                    <BluetoothIcon sx={{ mr: 1 }} />\n                    蓝牙状态\n                  </ToggleButton>\n                </ToggleButtonGroup>\n              </Grid>\n              \n              <Grid item xs={12} md={3}>\n                <FormControl fullWidth size=\"small\">\n                  <InputLabel id=\"time-range-label\">时间范围</InputLabel>\n                  <Select\n                    labelId=\"time-range-label\"\n                    id=\"time-range\"\n                    value={timeRange}\n                    label=\"时间范围\"\n                    onChange={handleTimeRangeChange}\n                  >\n                    <MenuItem value=\"1h\">过去1小时</MenuItem>\n                    <MenuItem value=\"6h\">过去6小时</MenuItem>\n                    <MenuItem value=\"24h\">过去24小时</MenuItem>\n                    <MenuItem value=\"7d\">过去7天</MenuItem>\n                  </Select>\n                </FormControl>\n              </Grid>\n              \n              <Grid item xs={12} md={3}>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  数据点数量: {historyData?.data?.length || 0}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Paper>\n        </Grid>\n\n        {/* 图表区域 */}\n        <Grid item xs={12}>\n          <Paper sx={{ p: 3, minHeight: 450 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              {dataType === 'BRIGHTNESS' && '屏幕亮度趋势'}\n              {dataType === 'WIFI' && 'WiFi状态变化'}\n              {dataType === 'BLUETOOTH' && '蓝牙状态变化'}\n            </Typography>\n            \n            {renderChart()}\n          </Paper>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n\nexport default DeviceHistory;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}